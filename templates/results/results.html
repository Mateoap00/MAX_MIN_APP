{% extends 'maxMinApp/index.html' %}
{% block styles %}
<style>

</style>
{% endblock %}
{% load customFilters %}
{% block title %}Resultados{% endblock %}

{% block content %}
{% if user.is_authenticated %}

<h2>Resultados Guardados por {{user.username}}</h2>

<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th scope="col">Resultado</th>
            <th scope="col">Función Objetivo</th>
            <th scope="col">Operación</th>
            <th scope="col">Restricciones</th>
            <th scope="col">Solución</th>
            <th scope="col">Fecha Guardada</th>
        </tr>
    </thead>
    <tbody class="table-group-divider">
        {% for result in allResults %}
        <tr>
            <th scope="row">{{ forloop.counter }}</th>
            <td>Z = {{result.objFunction}}</td>
            <td>{{result.operation}}</td>
            <td>
                <ul>
                    {% for cons in result.constraints %}
                    <li>R{{forloop.counter}}: {{cons}}</li>
                    {% endfor %}
                </ul>
            </td>
            <td>
                <ul>
                    {% for sol in result.solution %}
                    <li>
                        {{sol}} = {{result.solution|get_dict_value:sol}}
                    </li>
                    {% endfor %}
                </ul>
            </td>
            <td>{{result.resultDate}}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<a href="/model/" class="btn btn-success">Regresar</a>
{% endif %}
{% endblock %}